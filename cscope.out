cscope 15 $HOME/projects/winda               0000002156
	@winda.c

1 
	~<avr/io.h
>

2 
	#F_CPU
 1000000UL

	)

3 
	~<utž/d–ay.h
>

4 
	~<avr/š‹¼u±.h
>

5 
	~<avr/¦“p.h
>

8 
	#is_high
(
x
,
y
è(x & 
	`_BV
(y)) == _BV(y)

9 

	)

22 
	#tÝ_b»ak
 0

	)

23 
	#bÙtom_b»ak
 1

	)

24 
	#bÙtom_down_bu‰Ú
 2

	)

25 
	#bÙtom_up_bu‰Ú
 3

	)

26 
	#tÝ_up_bu‰Ú
 4

	)

27 
	#tÝ_down_bu‰Ú
 5

	)

29 ’um { 
	mçl£
, 
	mŒue
 } 
	tboÞ
;

31 
boÞ
 
	$is_´es£d
(
bu‰Ú
) {

32  
	`b™_is_£t
(
PINC
,
bu‰Ú
);

33 
	}
}

35 
boÞ
 
	$is_up
() {

36  
	`b™_is_£t
(
PINC
,
tÝ_b»ak
);

37 
	}
}

39 
boÞ
 
	$is_down
() {

40  
	`b™_is_£t
(
PINC
,
bÙtom_b»ak
);

41 
	}
}

43 
	$š™
() {

44 
DDRC
&=0b11000000 ;

45 
PORTC
&=0b00000000 ;

46 
DDRD
|=0b00000011 ;

47 
PCICR
|=
	`_BV
(
PCIE1
);

48 
PCMSK1
|=
	`_BV
(
PCINT8
);

49 
PCMSK1
|=
	`_BV
(
PCINT9
);

50 
PCMSK1
|=
	`_BV
(
PCINT10
);

51 
PCMSK1
|=
	`_BV
(
PCINT11
);

52 
PCMSK1
|=
	`_BV
(
PCINT12
);

53 
PCMSK1
|=
	`_BV
(
PCINT13
);

54 
	`£i
();

55 
	}
}

57 
	$’gše_¡Ý
() {

58 
PORTD
&=0b11111100;

59 
	}
}

61 
	$’gše_up
() {

62 
	`’gše_¡Ý
();

63 
PORTD
|=0b00000001;

64 
	}
}

66 
	$’gše_down
() {

67 
	`’gše_¡Ý
();

68 
PORTD
|=0b00000010;

69 
	}
}

71 
	$’gše_”rÜ
(){

72 
	`’gše_¡Ý
();

73 
PORTD
|=0b00000011;

74 
	}
}

76 
	$æash
(
i
){

77 vÞ©ž
j
;

78 
j
=
i
; j>0;j--){

79 
	`’gše_up
();

80 
	`_d–ay_ms
(500);

81 
	`’gše_¡Ý
();

82 
	`_d–ay_ms
(500);

84 
	}
}

88 
	$ISR
(
PCINT1_veù
){

90 
	`þi
();

92 
	`_d–ay_ms
(100);

94 if((
	`is_´es£d
(
tÝ_up_bu‰Ú
è&& is_´es£d(
tÝ_down_bu‰Ú
)è|| (is_´es£d(
bÙtom_up_bu‰Ú
è&& is_´es£d(
bÙtom_down_bu‰Ú
))){

95 
	`’gše_¡Ý
();

96 
	`_d–ay_ms
(100);

97 
	`£i
();

102 if(
	`is_´es£d
(
tÝ_up_bu‰Ú
è|| is_´es£d(
bÙtom_up_bu‰Ú
)){

103 if(
	`is_up
()){

104 
	`’gše_¡Ý
();

106 
	`’gše_up
();

108 
	`£i
();

112 if(
	`is_´es£d
(
tÝ_down_bu‰Ú
è|| is_´es£d(
bÙtom_down_bu‰Ú
)){

113 if(
	`is_down
()){

114 
	`’gše_¡Ý
();

116 
	`’gše_down
();

118 
	`£i
();

122 if(
	`is_´es£d
(
tÝ_b»ak
è|| is_´es£d(
bÙtom_b»ak
)){

123 
	`’gše_¡Ý
();

124 
	`£i
();

128 
	`£i
();

129 
	}
}

132 
	$maš
() {

134 
	`š™
() ;

140 
	}
}

	@
1
.
1
/usr/include
1
8
winda.c
